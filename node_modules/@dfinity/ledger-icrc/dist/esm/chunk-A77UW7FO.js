import{a as _,b as R}from"./chunk-42OX77TJ.js";import{Canister as T,createServices as A}from"@dfinity/utils";var f=({IDL:t})=>{let N=t.Record({ledger_id:t.Principal}),r=t.Nat,e=t.Record({owner:t.Principal,subaccount:t.Opt(t.Vec(t.Nat8))}),c=t.Record({max_results:t.Nat,start:t.Opt(r),account:e}),n=t.Record({from:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,spender:t.Opt(e)}),o=t.Record({to:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat}),s=t.Record({fee:t.Opt(t.Nat),from:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,expected_allowance:t.Opt(t.Nat),expires_at:t.Opt(t.Nat64),spender:e}),i=t.Record({to:e,fee:t.Opt(t.Nat),from:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,spender:t.Opt(e)}),p=t.Record({burn:t.Opt(n),kind:t.Text,mint:t.Opt(o),approve:t.Opt(s),timestamp:t.Nat64,transfer:t.Opt(i)}),d=t.Record({id:r,transaction:p}),m=t.Record({transactions:t.Vec(d),oldest_tx_id:t.Opt(r)}),u=t.Record({message:t.Text}),O=t.Variant({Ok:m,Err:u}),a=t.Vec(t.Nat8),l=t.Record({owner:t.Principal,start:t.Opt(a)});return t.Service({get_account_transactions:t.Func([c],[O],[]),ledger_id:t.Func([],[t.Principal],[]),list_subaccounts:t.Func([l],[t.Vec(a)],[])})};var g=({IDL:t})=>{let N=t.Record({ledger_id:t.Principal}),r=t.Nat,e=t.Record({owner:t.Principal,subaccount:t.Opt(t.Vec(t.Nat8))}),c=t.Record({max_results:t.Nat,start:t.Opt(r),account:e}),n=t.Record({from:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,spender:t.Opt(e)}),o=t.Record({to:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat}),s=t.Record({fee:t.Opt(t.Nat),from:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,expected_allowance:t.Opt(t.Nat),expires_at:t.Opt(t.Nat64),spender:e}),i=t.Record({to:e,fee:t.Opt(t.Nat),from:e,memo:t.Opt(t.Vec(t.Nat8)),created_at_time:t.Opt(t.Nat64),amount:t.Nat,spender:t.Opt(e)}),p=t.Record({burn:t.Opt(n),kind:t.Text,mint:t.Opt(o),approve:t.Opt(s),timestamp:t.Nat64,transfer:t.Opt(i)}),d=t.Record({id:r,transaction:p}),m=t.Record({transactions:t.Vec(d),oldest_tx_id:t.Opt(r)}),u=t.Record({message:t.Text}),O=t.Variant({Ok:m,Err:u}),a=t.Vec(t.Nat8),l=t.Record({owner:t.Principal,start:t.Opt(a)});return t.Service({get_account_transactions:t.Func([c],[O],[]),ledger_id:t.Func([],[t.Principal],["query"]),list_subaccounts:t.Func([l],[t.Vec(a)],["query"])})};var x=class t extends T{constructor(){super(...arguments);this.getTransactions=async r=>{let e=await this.caller({certified:!0}).get_account_transactions(_(r));if("Err"in e)throw new R(e.Err.message);return e.Ok};this.ledgerId=r=>{let{ledger_id:e}=this.caller(r);return e()}}static create(r){let{service:e,certifiedService:c,canisterId:n}=A({options:r,idlFactory:g,certifiedIdlFactory:f});return new t(n,e,c)}};export{x as a};
//# sourceMappingURL=chunk-A77UW7FO.js.map
